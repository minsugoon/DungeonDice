<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>던전 다이스 (Dungeon Dice)</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="wrap">
  <header>
    <div style="font-weight:900; font-size:18px;">
      <span style="color:var(--gold)">던전</span>다이스 <span style="font-size:12px; font-weight:normal; opacity:0.7">Rulebook Ver.</span>
    </div>
    <div class="round-tracker" id="roundDisp">Round 1 / 13</div>
    <button id="btnHeaderRules" style="width:auto; padding:4px 12px; font-size:12px;">룰북</button>
  </header>

  <div class="game-body">
    <!-- 왼쪽: 게임 보드 -->
    <div class="board-panel">
      <div class="grid" id="board"></div>
    </div>

    <!-- 오른쪽: 컨트롤 패널 -->
    <div class="ctrl-panel">
      <!-- 정보 카드 -->
      <div class="card">
        <div style="display:flex; justify-content:space-between; margin-bottom:10px; font-size:14px; font-weight:bold;">
          <span id="turnIndicator">게임 준비</span>
          <span id="statusIndicator"></span>
        </div>
        <div class="dice-container" id="diceArea"></div>
        <div style="text-align:center; font-size:12px; color:#888; margin-top:4px;" id="rollInfo"></div>
        
        <div class="btn-row">
          <button id="btnRoll" class="primary" disabled>굴리기</button>
          <button id="btnAction" disabled>확정/행동</button>
        </div>
        <div class="btn-row">
           <button id="btnItem" class="item" disabled>인벤토리</button>
           <button id="btnEnd" disabled>턴 종료</button>
        </div>
      </div>

      <!-- 플레이어 현황 -->
      <div class="card">
        <div style="font-size:12px; color:#888; margin-bottom:8px;">플레이어 현황</div>
        <div id="playerList"></div>
      </div>

      <!-- 로그 -->
      <div class="log-box" id="gameLog">
        <div class="log-entry">게임에 오신 것을 환영합니다.</div>
      </div>
      
      <!-- 하단 다시 시작 버튼 -->
      <button id="btnRestartMain" class="restart" style="margin-top:10px;">다시 시작하기</button>
    </div>
  </div>
</div>

<!-- 모달: 게임 설정 -->
<div class="modal-overlay" id="setupModal" style="display:flex;">
  <div class="modal">
    <h2 style="color:var(--gold)">게임 설정</h2>
    <div style="display:flex; flex-direction:column; gap:10px; text-align:left; margin-bottom:20px;">
      <label><input type="radio" name="pCount" value="2" checked> 2인 플레이</label>
      <label><input type="radio" name="pCount" value="3"> 3인 플레이</label>
      <label><input type="radio" name="pCount" value="4"> 4인 플레이</label>
      <hr style="border:0; border-top:1px solid #444; width:100%">
      <label><input type="checkbox" id="aiMode"> 2P = AI (베타)</label>
    </div>
    <button id="btnStartGame" class="primary">게임 시작</button>
  </div>
</div>

<!-- 모달: 카드 획득 -->
<div class="modal-overlay" id="cardModal">
  <div class="modal">
    <h3 id="cardType" style="margin-top:0">카드 획득</h3>
    <div class="card-visual" id="cardVisual">
      <div id="cardName" style="font-size:16px; margin-bottom:10px;"></div>
      <div id="cardDesc" style="font-size:12px;"></div>
    </div>
    <div id="cardResult" style="margin-bottom:15px; font-size:13px; color:#ccc;"></div>
    <div class="btn-row" id="cardActions">
      <!-- 동적 버튼 생성 -->
    </div>
  </div>
</div>

<!-- 모달: 인벤토리 -->
<div class="modal-overlay" id="inventoryModal">
  <div class="modal">
    <h3>인벤토리</h3>
    <div id="invList" style="text-align:left; min-height:100px; background:#222; padding:10px; border-radius:8px; margin-bottom:15px;"></div>
    <button id="btnCloseInv">닫기</button>
  </div>
</div>

<script src="game.js"></script>
</body>
</html>